# ðŸ“± ç§»åŠ¨ç«¯å›¾ç‰‡åŠ è½½ä¼˜åŒ–æŒ‡å—

## ðŸŽ¯ ä¼˜åŒ–ç›®æ ‡

ä¸ºå¡”ç½—ç‰Œåº”ç”¨å®žçŽ°æžé€Ÿçš„ç§»åŠ¨ç«¯å›¾ç‰‡åŠ è½½ä½“éªŒï¼Œé’ˆå¯¹ä¸åŒç½‘ç»œçŠ¶å†µå’Œè®¾å¤‡æ€§èƒ½è¿›è¡Œæ™ºèƒ½ä¼˜åŒ–ã€‚

## ðŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½è®¾å¤‡æ£€æµ‹
```javascript
const isMobile = () => {
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
           (window.innerWidth <= 768 && 'ontouchstart' in window);
};
```

### 2. ç½‘ç»œçŠ¶å†µæ„ŸçŸ¥
- **2G/æ…¢é€Ÿç½‘ç»œ**: æžç®€æ¨¡å¼ï¼Œ50KBä»¥å†…
- **3Gç½‘ç»œ**: ä¸­ç­‰è´¨é‡ï¼Œ150KBä»¥å†…
- **4G/å¿«é€Ÿç½‘ç»œ**: é«˜è´¨é‡æ¨¡å¼ï¼Œ300KBä»¥å†…
- **æ•°æ®èŠ‚çœæ¨¡å¼**: å¼ºåˆ¶ä½¿ç”¨æœ€ä½Žè´¨é‡

### 3. åˆ†å±‚åŠ è½½ç­–ç•¥

#### æžç®€æ¨¡å¼ (2G/æ•°æ®èŠ‚çœ)
```
åŠ è½½æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½Žåˆ†è¾¨çŽ‡ç‰ˆæœ¬     â”‚ â† ç«‹å³æ˜¾ç¤ºï¼Œçº¦50KB
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¸­ç­‰æ¨¡å¼ (3G)
```
åŠ è½½æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½Žåˆ†è¾¨çŽ‡ç‰ˆæœ¬     â”‚ â†’  â”‚ ä¸­ç­‰è´¨é‡ç‰ˆæœ¬     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      ç«‹å³æ˜¾ç¤º                åŽå°åŠ è½½
```

#### é«˜è´¨é‡æ¨¡å¼ (4G)
```
åŠ è½½æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â†’ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â†’ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½Žåˆ†è¾¨çŽ‡ç‰ˆæœ¬  â”‚ â†’  â”‚ ä¸­ç­‰è´¨é‡ç‰ˆæœ¬  â”‚ â†’  â”‚ é«˜è´¨é‡ç‰ˆæœ¬    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ç«‹å³æ˜¾ç¤º              200mså»¶è¿Ÿ           500mså»¶è¿Ÿ
```

## ðŸ“ æ–‡ä»¶ç»“æž„å»ºè®®

```
images/
â”œâ”€â”€ mobile/                    # ç§»åŠ¨ç«¯ä¸“ç”¨ä¼˜åŒ–å›¾ç‰‡
â”‚   â”œâ”€â”€ 0. æ„šäºº_mobile_low.webp     # ~30KB
â”‚   â”œâ”€â”€ 0. æ„šäºº_mobile_medium.webp  # ~80KB
â”‚   â”œâ”€â”€ 0. æ„šäºº_mobile.webp          # ~120KB
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lowres/                    # ä½Žåˆ†è¾¨çŽ‡å¤‡ä»½
â””â”€â”€ [åŽŸå§‹æ–‡ä»¶]                  # æ¡Œé¢ç«¯ä½¿ç”¨
```

## ðŸš€ æ€§èƒ½æŒ‡æ ‡

### é¢„æœŸåŠ è½½æ—¶é—´
- **2Gç½‘ç»œ**: é¦–å¼ å›¾ç‰‡ 2-3ç§’å†…æ˜¾ç¤º
- **3Gç½‘ç»œ**: é¦–å¼ å›¾ç‰‡ 1-2ç§’å†…æ˜¾ç¤º
- **4Gç½‘ç»œ**: é¦–å¼ å›¾ç‰‡ 0.5-1ç§’å†…æ˜¾ç¤º
- **WiFiç½‘ç»œ**: é¦–å¼ å›¾ç‰‡ 0.3-0.8ç§’å†…æ˜¾ç¤º

### å†…å­˜ä½¿ç”¨é™åˆ¶
- **ç§»åŠ¨ç«¯ç¼“å­˜**: æœ€å¤š15å¼ å›¾ç‰‡
- **ä½Žåˆ†è¾¨çŽ‡ç¼“å­˜**: æœ€å¤š5å¼ å›¾ç‰‡
- **æ€»å†…å­˜å ç”¨**: < 50MB

## ðŸŽ¨ å›¾ç‰‡ä¼˜åŒ–è®¾ç½®

### WebPæ ¼å¼è½¬æ¢
```bash
# ç§»åŠ¨ç«¯ä½Žåˆ†è¾¨çŽ‡ç‰ˆæœ¬ (~30KB)
magick input.png -quality 60 -resize 20% output_mobile_low.webp

# ç§»åŠ¨ç«¯ä¸­ç­‰è´¨é‡ (~80KB)
magick input.png -quality 70 -resize 35% output_mobile_medium.webp

# ç§»åŠ¨ç«¯æ ‡å‡†è´¨é‡ (~120KB)
magick input.png -quality 75 -resize 45% output_mobile.webp
```

### æ¸è¿›å¼JPEG
```bash
# æ¸è¿›å¼åŠ è½½ï¼Œæ”¯æŒé€æ­¥æ˜¾ç¤º
magick input.png -quality 75 -interlace Plane output_progressive.jpg
```

## ðŸ“Š æ™ºèƒ½é¢„åŠ è½½ç­–ç•¥

### ç§»åŠ¨ç«¯ä¼˜å…ˆçº§
1. **å…³é”®å›¾ç‰‡**: å¡”ç½—ç‰ŒèƒŒé¢ (ç«‹å³åŠ è½½)
2. **å¸¸ç”¨å¡ç‰Œ**: 0å·æ„šäººã€1å·é­”æœ¯å¸ˆç­‰ (å»¶è¿ŸåŠ è½½)
3. **å…¶ä»–å¡ç‰Œ**: æ ¹æ®ç”¨æˆ·è¡Œä¸ºåŠ¨æ€åŠ è½½

### æ‰¹æ¬¡å¤§å°è°ƒæ•´
- **2Gç½‘ç»œ**: 1-2å¼ /æ‰¹æ¬¡
- **3Gç½‘ç»œ**: 3-5å¼ /æ‰¹æ¬¡
- **4Gç½‘ç»œ**: 5-8å¼ /æ‰¹æ¬¡
- **WiFiç½‘ç»œ**: 8-12å¼ /æ‰¹æ¬¡

## ðŸ” ç›‘æŽ§ä¸Žè°ƒè¯•

### æŽ§åˆ¶å°æ—¥å¿—
```javascript
// ç§»åŠ¨ç«¯æ£€æµ‹
ðŸ“± ç§»åŠ¨ç«¯è®¾å¤‡æ£€æµ‹åˆ°ï¼Œå¯ç”¨ç§»åŠ¨ç«¯ä¼˜åŒ–ç­–ç•¥
ðŸ“± ç½‘ç»œçŠ¶å†µ: 4g, é€Ÿåº¦: 10Mbps, å»¶è¿Ÿ: 50ms
ðŸ“± ç§»åŠ¨ç«¯é¢„åŠ è½½ç­–ç•¥: highè´¨é‡, æ‰¹æ¬¡8, å»¶è¿Ÿ200ms

// åŠ è½½è¿›åº¦
ðŸ“± ç§»åŠ¨ç«¯æ‰¹æ¬¡ 1/3 å®Œæˆï¼Œå·²åŠ è½½: 3/9
ðŸ“± ç§»åŠ¨ç«¯å…³é”®å›¾ç‰‡åŠ è½½å®Œæˆ
ðŸ“± ç§»åŠ¨ç«¯å¸¸ç”¨å¡ç‰ŒåŠ è½½å®Œæˆ
```

### æ€§èƒ½æŒ‡æ ‡
- å¹³å‡åŠ è½½æ—¶é—´
- ç¼“å­˜å‘½ä¸­çŽ‡
- å†…å­˜ä½¿ç”¨æƒ…å†µ
- ç½‘ç»œé”™è¯¯çŽ‡

## ðŸŒ æµè§ˆå™¨å…¼å®¹æ€§

### å¿…éœ€åŠŸèƒ½
- âœ… WebPæ ¼å¼æ”¯æŒæ£€æµ‹
- âœ… Link Preload API
- âœ… Intersection Observer
- âœ… Network Information API
- âœ… Service Worker (å¯é€‰)

### é™çº§ç­–ç•¥
- **ä¸æ”¯æŒWebP**: è‡ªåŠ¨ä½¿ç”¨PNGæ ¼å¼
- **ä¸æ”¯æŒPreload**: ä½¿ç”¨æ ‡å‡†ImageåŠ è½½
- **ä¸æ”¯æŒç½‘ç»œAPI**: ä½¿ç”¨é»˜è®¤4Gç­–ç•¥

## ðŸ”§ å®žé™…éƒ¨ç½²å»ºè®®

### 1. æœåŠ¡å™¨é…ç½®
```nginx
# å¯ç”¨BrotliåŽ‹ç¼©
location /images/mobile/ {
    brotli on;
    brotli_comp_level 6;
    brotli_types image/webp image/png;

    # ç¼“å­˜è®¾ç½®
    expires 30d;
    add_header Cache-Control "public, immutable";
}
```

### 2. CDNé…ç½®
- ç§»åŠ¨ç«¯å›¾ç‰‡ä¼˜å…ˆä»Žå°±è¿‘èŠ‚ç‚¹åŠ è½½
- æ”¯æŒHTTP/2å¤šè·¯å¤ç”¨
- è‡ªåŠ¨æ ¼å¼è½¬æ¢ (WebP/AVIF)

### 3. æ€§èƒ½ç›‘æŽ§
```javascript
// å…³é”®æŒ‡æ ‡ç›‘æŽ§
const metrics = {
    firstContentfulPaint: '< 1.5s',
    largestContentfulPaint: '< 2.5s',
    cumulativeLayoutShift: '< 0.1',
    firstInputDelay: '< 100ms'
};
```

## ðŸŽ¯ ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### è§†è§‰åé¦ˆ
- åŠ è½½åŠ¨ç”»æŒ‡ç¤ºå™¨
- æ¸è¿›å¼å›¾ç‰‡æ˜¾ç¤º
- é”™è¯¯çŠ¶æ€å¤„ç†
- ç½‘ç»œçŠ¶å†µæç¤º

### äº¤äº’ä¼˜åŒ–
- è§¦æ‘¸å‹å¥½çš„é¢„åŠ è½½è§¦å‘
- æ‰‹åŠ¿æ“ä½œå“åº”ä¼˜åŒ–
- ç”µæ± ä½¿ç”¨ä¼˜åŒ–

## ðŸ”„ æŒç»­ä¼˜åŒ–

### A/Bæµ‹è¯•
- ä¸åŒåŽ‹ç¼©çŽ‡çš„æ•ˆæžœå¯¹æ¯”
- é¢„åŠ è½½ç­–ç•¥çš„æ•ˆæžœéªŒè¯
- ç¼“å­˜ç­–ç•¥çš„æ€§èƒ½å½±å“

### æ•°æ®æ”¶é›†
- ç”¨æˆ·ç½‘ç»œåˆ†å¸ƒç»Ÿè®¡
- åŠ è½½å¤±è´¥çŽ‡åˆ†æž
- ç”¨æˆ·è¡Œä¸ºæ¨¡å¼ç ”ç©¶

é€šè¿‡è¿™å¥—å®Œæ•´çš„ç§»åŠ¨ç«¯å›¾ç‰‡ä¼˜åŒ–ç­–ç•¥ï¼Œå¡”ç½—ç‰Œåº”ç”¨å¯ä»¥åœ¨å„ç§ç½‘ç»œæ¡ä»¶ä¸‹ä¸ºç”¨æˆ·æä¾›æµç•…ã€å¿«é€Ÿçš„å›¾ç‰‡åŠ è½½ä½“éªŒã€‚